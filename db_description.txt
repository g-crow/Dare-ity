
CREATE TABLE public.dareity_user
(
  id integer NOT NULL DEFAULT nextval('client_id_seq'::regclass),
  name character varying(80) NOT NULL,
  password character varying(80) NOT NULL,
  is_npo boolean NOT NULL DEFAULT false,
  CONSTRAINT "Client Primary Key" PRIMARY KEY (id),
  CONSTRAINT "unique name" UNIQUE (name)
)




CREATE TABLE public.user_dare
(
  id integer NOT NULL DEFAULT nextval('client_dare_client_dare_id_seq'::regclass),
  broadcaster_id integer NOT NULL,
  dare_id integer NOT NULL,
  pledge_amount_threshold money NOT NULL,
  npo_id integer NOT NULL,
  pledge_status money NOT NULL DEFAULT 0,
  CONSTRAINT "primary client dare key" PRIMARY KEY (id)
)




CREATE TABLE public.dare
(
  id integer NOT NULL DEFAULT nextval('dare_id_dare_seq'::regclass),
  title character varying(150) NOT NULL,
  description text NOT NULL,
  npo_creator integer NOT NULL,
  expiration date NOT NULL DEFAULT (('now'::text)::date + '30 days'::interval),
  total_pledge_amount money,
  pledge_threshold money NOT NULL DEFAULT 10.00,
  CONSTRAINT dare_primary_key PRIMARY KEY (id),
  CONSTRAINT "unique dare title" UNIQUE (title)
)




CREATE TABLE public.pledge
(
  id integer NOT NULL DEFAULT nextval('id_pledge_id_pledge_seq'::regclass),
  broadcaster_id integer NOT NULL,
  npo_id integer NOT NULL,
  dare_id integer NOT NULL,
  pledge_amount money NOT NULL,
  dare_fulfilled boolean NOT NULL DEFAULT false,
  user_dare_id integer NOT NULL,
  CONSTRAINT "primary pledge key" PRIMARY KEY (id)
)










TABLE dareity_user
(
  id integer NOT NULL,
  name character varying(80) NOT NULL,
  password character varying(80) NOT NULL,
  is_npo boolean NOT NULL DEFAULT false
)

TABLE user_dare
(
  id integer NOT NULL,
  broadcaster_id integer NOT NULL,
  dare_id integer NOT NULL,
  pledge_amount_threshold money NOT NULL,
  npo_id integer NOT NULL,
  pledge_status money NOT NULL DEFAULT 0
)

TABLE dare
(
  id integer NOT NULL,
  title character varying(150) NOT NULL,
  description text NOT NULL,
  npo_creator integer NOT NULL,
  expiration date NOT NULL,
  total_pledge_amount money,
  pledge_threshold money NOT NULL DEFAULT 10.00
)

TABLE pledge
(
  id integer NOT NULL,
  broadcaster_id integer NOT NULL,
  npo_id integer NOT NULL,
  dare_id integer NOT NULL,
  pledge_amount money NOT NULL,
  dare_fulfilled boolean NOT NULL DEFAULT false,
  user_dare_id integer NOT NULL
)
